---
title: \textbf{Relazione di gruppo}
author: "Mattia Fiorentino e Giambattista Donati"
subtitle: |
  | Dipartimento di Ingegneria Industriale
  | Laboratorio di elettronica per la robotica
date: "`r format(Sys.time(), '%d-%m-%Y')`"
output: pdf_document
classoption: a4paper
number_sections: true
libertine: false
toc: true
lof: true
lot: false
header-includes:
  - \usepackage{titling}
  - \pretitle{\begin{center}
    \includegraphics[width=2in,height=2in]{unitn_logo.pdf}\Huge\\\vspace{0.5cm}}
  - \posttitle{\end{center}\large\vspace{0.5cm}}
  #- \rhead{\includegraphics[width = .05\textwidth]{unitn_logo.pdf}}
  
  - \usepackage[italian]{babel}
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(knitr)
library(kableExtra)
library(tidyverse)
library(memor)
library(patchwork)
library(latex2exp)
library(ggplot2)
library(modelr)
library(dplyr)
library(ggExtra)
library(boot)
library(outliers)
# Impostazioni output
knitr::opts_chunk$set(
	fig.align  = "center",        # allineamento figure
	fig.dim    = c(5, 3) * 1.2, # rapporto larghezza/altezza e fattore di scala
	#fig.show   = 'hold',
	#results    = 'hold',
	out.height = "2.8in",       # altezza effettiva figure
	message    = FALSE,         # sopprimi messaggi
	warning    = FALSE,         # sopprimi warning
	echo       = FALSE,          # mostra i codice dei chunk
	include    = TRUE,          # mostra l'output dei chunk
	tidy       = TRUE,          # formatta il codice dei chunk
  tidy.opts  = list(width.cutoff=I(60)) # massima larghezza codice nei chunk
)
```

# Introduzione

Con il circuito costruito l'obiettivo è quello di simulare un motore di una macchina capace di accelerare e di frenare, rispetto ad una velocità costante a vuoto, con due pedali, e, in caso di avvicinamento di un ostacolo, di rallentare fino ad arrestarsi quando questo è molto vicino.
I sensori utilizzati per realizzare questo circuito sono tre: due sensori di pressione e un sensore a ultrasuoni. I primi due dovrebbero fungere da pedali, mentre il terzo da sensore di prossimità.

## Sensore di pressione



## Sensore a ultrasuoni *HC-SR04*
Il sensore a ultrasuoni è un componente con quattro *pin* così chiamati:
- $V_{CC}$
- Trig
- Echo
- GND

Il primo e l'ultimo riguardano la tensione di alimentazione (rispettivamente $5V$ e massa), il trigger è responsabile dell'impulso da inviare verso l'esterno per intercettare eventuali ostacoli, l'echo invece tiene conto del tempo che trascorre tra l'inviio del segnale e il suo ritorno.

Seguendo i dati del *data-sheet* questo sensore per funzionare ha bisogno di ricevere un impulso di circa $10\mu s$ per poter funzionare (questo impulso deve essere fornito esternamente, non lo crea da sé), quest'ultimo viene inviato dall'emettitore sotto forma di onda sonora quadra da 8 cicli a circa $40kHz$ (non udibile dall'essere umano). A questo punto il *pin* *echo* genera una tensione al livello logico alto finché il ricevitore non rileva l'impulso di ritorno, dopo di ché torna al livello basso. Più vicino è l'oggetto e più breve è la durata del segnale alla tensione alta generato dall'*echo*, questo perché la differenza tra l'istante in cui l'impulso viene mandato dall'emettitore e quello in cui viene ricevuto è più piccola.

```{r pulse_echo, fig.cap="impulsi del sensore a ultrasuoni"}
knitr::include_graphics("immagini/impulsi sensore ultrasuoni.png")
```


# Circuito realizzato

```{r}
knitr::include_graphics("immagini/circuito completo spiegato di gruppo.png")
```

Il ragionamento alla base del circuito sta nell'alimentare il motore con una tensione media che varia in funzione della tensione all'uscita dei sensori.

